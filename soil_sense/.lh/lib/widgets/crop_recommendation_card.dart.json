{
    "sourceFile": "lib/widgets/crop_recommendation_card.dart",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 1,
            "patches": [
                {
                    "date": 1765222364067,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1765292367102,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -98,9 +98,9 @@\n                   // Suitability score\r\n                   Container(\r\n                     padding: const EdgeInsets.symmetric(horizontal: 12, vertical: 8),\r\n                     decoration: BoxDecoration(\r\n-                      color: _getScoreColor(score).withOpacity(0.1),\r\n+                      color: _getScoreColor(score).withValues(alpha: 0.1),\r\n                       borderRadius: BorderRadius.circular(12),\r\n                     ),\r\n                     child: Text(\r\n                       '${score.round()}%',\r\n@@ -154,9 +154,9 @@\n                 const SizedBox(height: 8),\r\n                 Container(\r\n                   padding: const EdgeInsets.all(12),\r\n                   decoration: BoxDecoration(\r\n-                    color: AppColors.primary.withOpacity(0.1),\r\n+                    color: AppColors.primary.withValues(alpha: 0.1),\r\n                     borderRadius: BorderRadius.circular(8),\r\n                   ),\r\n                   child: Row(\r\n                     children: [\r\n"
                }
            ],
            "date": 1765222364067,
            "name": "Commit-0",
            "content": "import 'package:flutter/material.dart';\r\nimport '../models/recommendation.dart';\r\nimport '../utils/constants.dart';\r\n\r\nclass CropRecommendationCard extends StatelessWidget {\r\n  final Recommendation recommendation;\r\n  final int rank;\r\n  final bool isExpanded;\r\n  final VoidCallback? onTap;\r\n\r\n  const CropRecommendationCard({\r\n    super.key,\r\n    required this.recommendation,\r\n    required this.rank,\r\n    this.isExpanded = false,\r\n    this.onTap,\r\n  });\r\n\r\n  Color get _rankColor {\r\n    switch (rank) {\r\n      case 1:\r\n        return Colors.amber;\r\n      case 2:\r\n        return Colors.grey.shade400;\r\n      case 3:\r\n        return Colors.brown.shade300;\r\n      default:\r\n        return Colors.grey;\r\n    }\r\n  }\r\n\r\n  @override\r\n  Widget build(BuildContext context) {\r\n    final crop = recommendation.crop;\r\n    final score = recommendation.suitabilityPercent;\r\n\r\n    return Card(\r\n      elevation: rank == 1 ? 6 : 3,\r\n      shape: RoundedRectangleBorder(\r\n        borderRadius: BorderRadius.circular(16),\r\n        side: rank == 1\r\n            ? BorderSide(color: Colors.amber, width: 2)\r\n            : BorderSide.none,\r\n      ),\r\n      child: InkWell(\r\n        onTap: onTap,\r\n        borderRadius: BorderRadius.circular(16),\r\n        child: Padding(\r\n          padding: const EdgeInsets.all(16),\r\n          child: Column(\r\n            crossAxisAlignment: CrossAxisAlignment.start,\r\n            children: [\r\n              // Header\r\n              Row(\r\n                children: [\r\n                  // Rank badge\r\n                  Container(\r\n                    width: 36,\r\n                    height: 36,\r\n                    decoration: BoxDecoration(\r\n                      color: _rankColor,\r\n                      shape: BoxShape.circle,\r\n                    ),\r\n                    child: Center(\r\n                      child: Text(\r\n                        '#$rank',\r\n                        style: const TextStyle(\r\n                          color: Colors.white,\r\n                          fontWeight: FontWeight.bold,\r\n                        ),\r\n                      ),\r\n                    ),\r\n                  ),\r\n                  const SizedBox(width: 12),\r\n                  \r\n                  // Crop name\r\n                  Expanded(\r\n                    child: Column(\r\n                      crossAxisAlignment: CrossAxisAlignment.start,\r\n                      children: [\r\n                        Text(\r\n                          crop.name,\r\n                          style: Theme.of(context).textTheme.titleLarge?.copyWith(\r\n                            fontWeight: FontWeight.bold,\r\n                          ),\r\n                        ),\r\n                        Text(\r\n                          crop.nameAm,\r\n                          style: TextStyle(\r\n                            color: Colors.grey.shade600,\r\n                            fontSize: 14,\r\n                          ),\r\n                        ),\r\n                      ],\r\n                    ),\r\n                  ),\r\n                  \r\n                  // Suitability score\r\n                  Container(\r\n                    padding: const EdgeInsets.symmetric(horizontal: 12, vertical: 8),\r\n                    decoration: BoxDecoration(\r\n                      color: _getScoreColor(score).withOpacity(0.1),\r\n                      borderRadius: BorderRadius.circular(12),\r\n                    ),\r\n                    child: Text(\r\n                      '${score.round()}%',\r\n                      style: TextStyle(\r\n                        fontSize: 20,\r\n                        fontWeight: FontWeight.bold,\r\n                        color: _getScoreColor(score),\r\n                      ),\r\n                    ),\r\n                  ),\r\n                ],\r\n              ),\r\n              \r\n              const SizedBox(height: 16),\r\n              \r\n              // Planting info\r\n              Container(\r\n                padding: const EdgeInsets.all(12),\r\n                decoration: BoxDecoration(\r\n                  color: Colors.grey.shade100,\r\n                  borderRadius: BorderRadius.circular(12),\r\n                ),\r\n                child: Row(\r\n                  children: [\r\n                    _InfoItem(\r\n                      icon: Icons.grass,\r\n                      label: 'Seed',\r\n                      value: '${recommendation.seedKg.toStringAsFixed(1)} kg',\r\n                    ),\r\n                    _InfoItem(\r\n                      icon: Icons.straighten,\r\n                      label: 'Spacing',\r\n                      value: recommendation.spacing,\r\n                    ),\r\n                    _InfoItem(\r\n                      icon: Icons.grid_view,\r\n                      label: 'Plants',\r\n                      value: _formatNumber(recommendation.plantCount),\r\n                    ),\r\n                  ],\r\n                ),\r\n              ),\r\n              \r\n              // Expanded info\r\n              if (isExpanded) ...[\r\n                const SizedBox(height: 12),\r\n                Text(\r\n                  crop.description,\r\n                  style: TextStyle(color: Colors.grey.shade700),\r\n                ),\r\n                const SizedBox(height: 8),\r\n                Container(\r\n                  padding: const EdgeInsets.all(12),\r\n                  decoration: BoxDecoration(\r\n                    color: AppColors.primary.withOpacity(0.1),\r\n                    borderRadius: BorderRadius.circular(8),\r\n                  ),\r\n                  child: Row(\r\n                    children: [\r\n                      Icon(Icons.tips_and_updates, color: AppColors.primary, size: 20),\r\n                      const SizedBox(width: 8),\r\n                      Expanded(\r\n                        child: Text(\r\n                          crop.plantingTips,\r\n                          style: TextStyle(\r\n                            color: AppColors.primary,\r\n                            fontSize: 13,\r\n                          ),\r\n                        ),\r\n                      ),\r\n                    ],\r\n                  ),\r\n                ),\r\n                const SizedBox(height: 8),\r\n                Row(\r\n                  children: [\r\n                    Icon(Icons.calendar_today, size: 16, color: Colors.grey),\r\n                    const SizedBox(width: 4),\r\n                    Text(\r\n                      'Growing period: ${crop.growingDays} days',\r\n                      style: TextStyle(color: Colors.grey.shade600, fontSize: 13),\r\n                    ),\r\n                  ],\r\n                ),\r\n              ],\r\n            ],\r\n          ),\r\n        ),\r\n      ),\r\n    );\r\n  }\r\n\r\n  Color _getScoreColor(double score) {\r\n    if (score >= 80) return Colors.green;\r\n    if (score >= 60) return Colors.orange;\r\n    return Colors.red;\r\n  }\r\n\r\n  String _formatNumber(int number) {\r\n    if (number >= 1000000) {\r\n      return '${(number / 1000000).toStringAsFixed(1)}M';\r\n    } else if (number >= 1000) {\r\n      return '${(number / 1000).toStringAsFixed(1)}K';\r\n    }\r\n    return number.toString();\r\n  }\r\n}\r\n\r\nclass _InfoItem extends StatelessWidget {\r\n  final IconData icon;\r\n  final String label;\r\n  final String value;\r\n\r\n  const _InfoItem({\r\n    required this.icon,\r\n    required this.label,\r\n    required this.value,\r\n  });\r\n\r\n  @override\r\n  Widget build(BuildContext context) {\r\n    return Expanded(\r\n      child: Column(\r\n        children: [\r\n          Icon(icon, size: 20, color: AppColors.primary),\r\n          const SizedBox(height: 4),\r\n          Text(\r\n            value,\r\n            style: const TextStyle(\r\n              fontWeight: FontWeight.bold,\r\n              fontSize: 13,\r\n            ),\r\n          ),\r\n          Text(\r\n            label,\r\n            style: TextStyle(\r\n              fontSize: 11,\r\n              color: Colors.grey.shade600,\r\n            ),\r\n          ),\r\n        ],\r\n      ),\r\n    );\r\n  }\r\n}"
        }
    ]
}